{"ast":null,"code":"import{useRef}from\"react\";import useFormValidation from\"../../utils/useFormValidation\";import PopupWithForm from\"../popupWithForm/PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditAvatarPopup(_ref){var onOpen=_ref.onOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar;var input=useRef();var _useFormValidation=useFormValidation(),inputValue=_useFormValidation.inputValue,errorMessage=_useFormValidation.errorMessage,isValid=_useFormValidation.isValid,isInputValid=_useFormValidation.isInputValid,handleChange=_useFormValidation.handleChange,reset=_useFormValidation.reset;function resetForm(){onClose();reset();}function handleSubmit(event){event.preventDefault();onUpdateAvatar({avatarProfile:input.current.value},reset);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"avatar-profle\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",textButton:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onOpen:onOpen,onClose:resetForm,isValid:isValid,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{ref:input,className:\"form__field form__field_change_avatar \".concat(isInputValid.avatarProfile===undefined||isInputValid.avatarProfile?\"\":\"form__error\"),id:\"url-avatar\",type:\"url\",name:\"avatarProfile\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",required:true,value:inputValue.avatarProfile?inputValue.avatarProfile:\"\",onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"form__error-container \".concat(isInputValid.avatarProfile?\"\":\"form__field_error\"),children:/*#__PURE__*/_jsx(\"span\",{id:\"url-avatar-error\",children:errorMessage.avatarProfile})})]});}","map":{"version":3,"names":["useRef","useFormValidation","PopupWithForm","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","onOpen","onClose","onUpdateAvatar","input","_useFormValidation","inputValue","errorMessage","isValid","isInputValid","handleChange","reset","resetForm","handleSubmit","event","preventDefault","avatarProfile","current","value","name","title","textButton","onSubmit","children","ref","className","concat","undefined","id","type","placeholder","required","onChange"],"sources":["C:/Users/L1qwY/dev/react-mesto-auth/src/components/editAvatarPopup/EditAvatarPopup.jsx"],"sourcesContent":["import { useRef } from \"react\";\r\nimport useFormValidation from \"../../utils/useFormValidation\";\r\nimport PopupWithForm from \"../popupWithForm/PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({ onOpen, onClose, onUpdateAvatar }) {\r\n  const input = useRef();\r\n  const {\r\n    inputValue,\r\n    errorMessage,\r\n    isValid,\r\n    isInputValid,\r\n    handleChange,\r\n    reset,\r\n  } = useFormValidation();\r\n\r\n  function resetForm() {\r\n    onClose();\r\n    reset();\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onUpdateAvatar({ avatarProfile: input.current.value }, reset);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar-profle\"\r\n      title=\"Обновить аватар\"\r\n      textButton=\"Сохранить\"\r\n      onOpen={onOpen}\r\n      onClose={resetForm}\r\n      isValid={isValid}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        ref={input}\r\n        className={`form__field form__field_change_avatar ${\r\n          isInputValid.avatarProfile === undefined || isInputValid.avatarProfile\r\n            ? \"\"\r\n            : \"form__error\"\r\n        }`}\r\n        id=\"url-avatar\"\r\n        type=\"url\"\r\n        name=\"avatarProfile\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        required\r\n        value={inputValue.avatarProfile ? inputValue.avatarProfile : \"\"}\r\n        onChange={handleChange}\r\n      />\r\n      <div\r\n        className={`form__error-container ${\r\n          isInputValid.avatarProfile ? \"\" : \"form__field_error\"\r\n        }`}\r\n      >\r\n        <span id=\"url-avatar-error\">{errorMessage.avatarProfile}</span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n"],"mappings":"AAAA,OAASA,MAAM,KAAQ,OAAO,CAC9B,MAAO,CAAAC,iBAAiB,KAAM,+BAA+B,CAC7D,MAAO,CAAAC,aAAa,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3D,cAAe,SAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAsC,IAAnC,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CACvE,GAAM,CAAAC,KAAK,CAAGZ,MAAM,CAAC,CAAC,CACtB,IAAAa,kBAAA,CAOIZ,iBAAiB,CAAC,CAAC,CANrBa,UAAU,CAAAD,kBAAA,CAAVC,UAAU,CACVC,YAAY,CAAAF,kBAAA,CAAZE,YAAY,CACZC,OAAO,CAAAH,kBAAA,CAAPG,OAAO,CACPC,YAAY,CAAAJ,kBAAA,CAAZI,YAAY,CACZC,YAAY,CAAAL,kBAAA,CAAZK,YAAY,CACZC,KAAK,CAAAN,kBAAA,CAALM,KAAK,CAGP,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnBV,OAAO,CAAC,CAAC,CACTS,KAAK,CAAC,CAAC,CACT,CAEA,QAAS,CAAAE,YAAYA,CAACC,KAAK,CAAE,CAC3BA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBZ,cAAc,CAAC,CAAEa,aAAa,CAAEZ,KAAK,CAACa,OAAO,CAACC,KAAM,CAAC,CAAEP,KAAK,CAAC,CAC/D,CAEA,mBACEb,KAAA,CAACJ,aAAa,EACZyB,IAAI,CAAC,eAAe,CACpBC,KAAK,CAAC,uFAAiB,CACvBC,UAAU,CAAC,wDAAW,CACtBpB,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEU,SAAU,CACnBJ,OAAO,CAAEA,OAAQ,CACjBc,QAAQ,CAAET,YAAa,CAAAU,QAAA,eAEvB3B,IAAA,UACE4B,GAAG,CAAEpB,KAAM,CACXqB,SAAS,0CAAAC,MAAA,CACPjB,YAAY,CAACO,aAAa,GAAKW,SAAS,EAAIlB,YAAY,CAACO,aAAa,CAClE,EAAE,CACF,aAAa,CAChB,CACHY,EAAE,CAAC,YAAY,CACfC,IAAI,CAAC,KAAK,CACVV,IAAI,CAAC,eAAe,CACpBW,WAAW,CAAC,wFAAkB,CAC9BC,QAAQ,MACRb,KAAK,CAAEZ,UAAU,CAACU,aAAa,CAAGV,UAAU,CAACU,aAAa,CAAG,EAAG,CAChEgB,QAAQ,CAAEtB,YAAa,CACxB,CAAC,cACFd,IAAA,QACE6B,SAAS,0BAAAC,MAAA,CACPjB,YAAY,CAACO,aAAa,CAAG,EAAE,CAAG,mBAAmB,CACpD,CAAAO,QAAA,cAEH3B,IAAA,SAAMgC,EAAE,CAAC,kBAAkB,CAAAL,QAAA,CAAEhB,YAAY,CAACS,aAAa,CAAO,CAAC,CAC5D,CAAC,EACO,CAAC,CAEpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}