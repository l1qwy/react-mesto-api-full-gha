{"ast":null,"code":"import _classCallCheck from\"C:/Users/L1qwY/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/L1qwY/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this._url=config.baseUrl;}_createClass(Api,[{key:\"_verifyRes\",value:function _verifyRes(res){if(res.ok){return res.json();}else{return Promise.reject;}}},{key:\"getUserInfoFromSrv\",value:function getUserInfoFromSrv(token){return fetch(this._url+\"users/me\",{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(this._verifyRes);}},{key:\"getServerCards\",value:function getServerCards(token){return fetch(this._url+\"cards\",{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(this._verifyRes);}},{key:\"setUserInfoToSrv\",value:function setUserInfoToSrv(data,token){return fetch(this._url+\"users/me\",{method:\"PATCH\",headers:{'Content-Type':'application/json',\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({name:data.nameProfile,about:data.jobProfile})}).then(this._verifyRes);}},{key:\"changeAvatar\",value:function changeAvatar(data,token){return fetch(this._url+\"users/me/avatar\",{method:\"PATCH\",headers:{'Content-Type':'application/json',\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({avatar:data.avatarProfile})}).then(this._verifyRes);}},{key:\"addCardToSrv\",value:function addCardToSrv(data,token){return fetch(this._url+\"cards\",{method:\"POST\",headers:{'Content-Type':'application/json',\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({name:data.name,link:data.link})}).then(this._verifyRes);}},{key:\"deleteCardFromSrv\",value:function deleteCardFromSrv(cardId,token){return fetch(this._url+\"cards/\"+cardId,{method:\"DELETE\",headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(this._verifyRes);}},{key:\"activeLike\",value:function activeLike(cardId,token){return fetch(this._url+\"cards/\"+cardId+\"/likes\",{method:\"PUT\",headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(this._verifyRes);}},{key:\"unactiveLike\",value:function unactiveLike(cardId,token){return fetch(this._url+\"cards/\"+cardId+\"/likes\",{method:\"DELETE\",headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(this._verifyRes);}}]);return Api;}();var api=new Api({baseUrl:\"http://localhost:3000/\"});export default api;","map":{"version":3,"names":["Api","config","_classCallCheck","_url","baseUrl","_createClass","key","value","_verifyRes","res","ok","json","Promise","reject","getUserInfoFromSrv","token","fetch","headers","concat","then","getServerCards","setUserInfoToSrv","data","method","body","JSON","stringify","name","nameProfile","about","jobProfile","changeAvatar","avatar","avatarProfile","addCardToSrv","link","deleteCardFromSrv","cardId","activeLike","unactiveLike","api"],"sources":["C:/Users/L1qwY/dev/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["class Api {\r\n  constructor(config) {\r\n    this._url = config.baseUrl;\r\n  }\r\n\r\n  _verifyRes(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject;\r\n    }\r\n  }\r\n\r\n  getUserInfoFromSrv(token) {\r\n    return fetch(this._url + \"users/me\", {\r\n      headers: {\r\n        \"Authorization\" : `Bearer ${token}`\r\n      },\r\n    }).then(this._verifyRes);\r\n  }\r\n\r\n  getServerCards(token) {\r\n    return fetch(this._url + \"cards\", {\r\n      headers: {\r\n        \"Authorization\" : `Bearer ${token}`\r\n      },\r\n    }).then(this._verifyRes);\r\n  }\r\n\r\n  setUserInfoToSrv(data, token) {\r\n    return fetch(this._url + \"users/me\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        'Content-Type' : 'application/json',\r\n        \"Authorization\" : `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.nameProfile,\r\n        about: data.jobProfile,\r\n      }),\r\n    }).then(this._verifyRes);\r\n  }\r\n\r\n  changeAvatar(data, token) {\r\n    return fetch(this._url + \"users/me/avatar\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        'Content-Type' : 'application/json',\r\n        \"Authorization\" : `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatarProfile,\r\n      }),\r\n    }).then(this._verifyRes);\r\n  }\r\n\r\n  addCardToSrv(data, token) {\r\n    return fetch(this._url + \"cards\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-Type' : 'application/json',\r\n        \"Authorization\" : `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._verifyRes);\r\n  }\r\n\r\n  deleteCardFromSrv(cardId, token) {\r\n    return fetch(this._url + \"cards/\" + cardId, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Authorization\" : `Bearer ${token}`\r\n      },\r\n    }).then(this._verifyRes);\r\n  }\r\n\r\n  activeLike(cardId, token) {\r\n    return fetch(this._url + \"cards/\" + cardId + \"/likes\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Authorization\" : `Bearer ${token}`\r\n      },\r\n    }).then(this._verifyRes);\r\n  }\r\n\r\n  unactiveLike(cardId, token) {\r\n    return fetch(this._url + \"cards/\" + cardId + \"/likes\", {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Authorization\" : `Bearer ${token}`\r\n      },\r\n    }).then(this._verifyRes);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"http://localhost:3000/\",\r\n});\r\n\r\nexport default api;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}