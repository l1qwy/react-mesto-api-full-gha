{"ast":null,"code":"import{useContext,useEffect}from\"react\";import useFormValidation from\"../../utils/useFormValidation\";import PopupWithForm from\"../popupWithForm/PopupWithForm\";import CurrentUserContext from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditProfilePopup(_ref){var onOpen=_ref.onOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);var _useFormValidation=useFormValidation(),inputValue=_useFormValidation.inputValue,errorMessage=_useFormValidation.errorMessage,isValid=_useFormValidation.isValid,isInputValid=_useFormValidation.isInputValid,handleChange=_useFormValidation.handleChange,reset=_useFormValidation.reset,setValue=_useFormValidation.setValue;useEffect(function(){setValue(\"nameProfile\",currentUser.name);setValue(\"jobProfile\",currentUser.about);},[currentUser,setValue]);function resetForm(){onClose();reset({nameProfile:currentUser.name,jobProfile:currentUser.about});}function handleSubmit(event){event.preventDefault();onUpdateUser({nameProfile:inputValue.nameProfile,jobProfile:inputValue.jobProfile},reset);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit-profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",textButton:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onOpen:onOpen,onClose:resetForm,isValid:isValid,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__field form__field_input_name \".concat(isInputValid.nameProfile===undefined||isInputValid.nameProfile?\"\":\"form__error\"),id:\"name-pfofile\",type:\"text\",name:\"nameProfile\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:2,maxLength:40,required:true,value:inputValue.nameProfile?inputValue.nameProfile:\"\",onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"form__error-container \".concat(isInputValid.nameProfile?\"\":\"form__field_error\"),children:/*#__PURE__*/_jsx(\"span\",{id:\"name-pfofile-error\",children:errorMessage.nameProfile})}),/*#__PURE__*/_jsx(\"input\",{className:\"form__field form__field_input_job \".concat(isInputValid.jobProfile===undefined||isInputValid.jobProfile?\"\":\"form__error\"),id:\"job-profile\",type:\"text\",name:\"jobProfile\",placeholder:\"\\u0414\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C\",minLength:2,maxLength:200,required:true,value:inputValue.jobProfile?inputValue.jobProfile:\"\",onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"form__error-container \".concat(isInputValid.jobProfile?\"\":\"form__field_error\"),children:/*#__PURE__*/_jsx(\"span\",{id:\"job-profile-error\",children:errorMessage.jobProfile})})]});}","map":{"version":3,"names":["useContext","useEffect","useFormValidation","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","onOpen","onClose","onUpdateUser","currentUser","_useFormValidation","inputValue","errorMessage","isValid","isInputValid","handleChange","reset","setValue","name","about","resetForm","nameProfile","jobProfile","handleSubmit","event","preventDefault","title","textButton","onSubmit","children","className","concat","undefined","id","type","placeholder","minLength","maxLength","required","value","onChange"],"sources":["C:/Users/L1qwY/dev/react-mesto-auth/src/components/editProfilePopup/EditprofilePopup.jsx"],"sourcesContent":["import { useContext, useEffect } from \"react\";\r\nimport useFormValidation from \"../../utils/useFormValidation\";\r\nimport PopupWithForm from \"../popupWithForm/PopupWithForm\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function EditProfilePopup({ onOpen, onClose, onUpdateUser }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const {\r\n    inputValue,\r\n    errorMessage,\r\n    isValid,\r\n    isInputValid,\r\n    handleChange,\r\n    reset,\r\n    setValue,\r\n  } = useFormValidation();\r\n\r\n  useEffect(() => {\r\n    setValue(\"nameProfile\", currentUser.name);\r\n    setValue(\"jobProfile\", currentUser.about);\r\n  }, [currentUser, setValue]);\r\n\r\n  function resetForm() {\r\n    onClose();\r\n    reset({ nameProfile: currentUser.name, jobProfile: currentUser.about });\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onUpdateUser(\r\n      {\r\n        nameProfile: inputValue.nameProfile,\r\n        jobProfile: inputValue.jobProfile,\r\n      },\r\n      reset\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      textButton=\"Сохранить\"\r\n      onOpen={onOpen}\r\n      onClose={resetForm}\r\n      isValid={isValid}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className={`form__field form__field_input_name ${\r\n          isInputValid.nameProfile === undefined || isInputValid.nameProfile\r\n            ? \"\"\r\n            : \"form__error\"\r\n        }`}\r\n        id=\"name-pfofile\"\r\n        type=\"text\"\r\n        name=\"nameProfile\"\r\n        placeholder=\"Имя\"\r\n        minLength={2}\r\n        maxLength={40}\r\n        required\r\n        value={inputValue.nameProfile ? inputValue.nameProfile : \"\"}\r\n        onChange={handleChange}\r\n      />\r\n      <div\r\n        className={`form__error-container ${\r\n          isInputValid.nameProfile ? \"\" : \"form__field_error\"\r\n        }`}\r\n      >\r\n        <span id=\"name-pfofile-error\">{errorMessage.nameProfile}</span>\r\n      </div>\r\n      <input\r\n        className={`form__field form__field_input_job ${\r\n          isInputValid.jobProfile === undefined || isInputValid.jobProfile\r\n            ? \"\"\r\n            : \"form__error\"\r\n        }`}\r\n        id=\"job-profile\"\r\n        type=\"text\"\r\n        name=\"jobProfile\"\r\n        placeholder=\"Деятельность\"\r\n        minLength={2}\r\n        maxLength={200}\r\n        required\r\n        value={inputValue.jobProfile ? inputValue.jobProfile : \"\"}\r\n        onChange={handleChange}\r\n      />\r\n      <div\r\n        className={`form__error-container ${\r\n          isInputValid.jobProfile ? \"\" : \"form__field_error\"\r\n        }`}\r\n      >\r\n        <span id=\"job-profile-error\">{errorMessage.jobProfile}</span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}